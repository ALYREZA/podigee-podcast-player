!function t(e,i,r){function n(o,a){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){var i=e[o][1][t];return n(i?i:t)},u,u.exports,t,e,i,r)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t,i,r){this.elemClass=t,this.sendHeightChange=e(this.sendHeightChange,this),this.initMoreInfo=e(this.initMoreInfo,this),this.initChaptermarks=e(this.initChaptermarks,this),this.chapterClickCallback=e(this.chapterClickCallback,this),this.jumpForward=e(this.jumpForward,this),this.jumpBackward=e(this.jumpBackward,this),this.setPlaySpeed=e(this.setPlaySpeed,this),this.changePlaySpeed=e(this.changePlaySpeed,this),this.adjustPlaySpeed=e(this.adjustPlaySpeed,this),this.handleMouseMove=e(this.handleMouseMove,this),this.jumpToPosition=e(this.jumpToPosition,this),this.triggerError=e(this.triggerError,this),this.triggerLoaded=e(this.triggerLoaded,this),this.triggerPlaying=e(this.triggerPlaying,this),this.triggerLoading=e(this.triggerLoading,this),this.updateLoaded=e(this.updateLoaded,this),this.updateScrubber=e(this.updateScrubber,this),this.updateTime=e(this.updateTime,this),this.timeRailFactor=e(this.timeRailFactor,this),this.switchTimeDisplay=e(this.switchTimeDisplay,this),this.togglePlayState=e(this.togglePlayState,this),this.scrubberWidth=e(this.scrubberWidth,this),this.initChromeCastSupport=e(this.initChromeCastSupport,this),this.initAudioPlayer=e(this.initAudioPlayer,this),this.renderTheme=e(this.renderTheme,this),this.setOptions(i),this.data=r,this.renderTheme(),this.initAudioPlayer()}return t.prototype.defaultOptions={currentPlaybackRate:1,playbackRates:[1,1.5,2],timeMode:"countup",backwardSeconds:10,forwardSeconds:30,showChaptermarks:!1,showMoreInfo:!1},t.prototype.setOptions=function(t){return this.options=$.extend(!0,this.defaultOptions,t)},t.prototype.renderTheme=function(){return this.elem=new PodiTheme(this.elemClass,this.data).render()},t.prototype.initAudioPlayer=function(){var t;return t=this.elem.find("audio")[0],new MediaElement(t,{success:function(t){return function(e,i){return t.init(e,i)}}(this)})},t.prototype.init=function(t){var e;return this.player=t,e=this,this.findElements(),this.initScrubber(),this.bindButtons(),this.bindPlayerEvents(),this.initChaptermarks(),this.initMoreInfo(),this.initChromeCastSupport()},t.prototype.initChromeCastSupport=function(){return window.__onGCastApiAvailable=function(t){return function(e,i){return e?t.chromecast=new PodiCast(t):console.log(i)}}(this)},t.prototype.findElements=function(){return this.scrubberElement=this.elem.find(".time-scrubber"),this.timeElement=this.elem.find(".time-played"),this.scrubberRailElement=this.scrubberElement.find(".rail"),this.scrubberPlayedElement=this.scrubberElement.find(".time-scrubber-played"),this.scrubberLoadedElement=this.scrubberElement.find(".time-scrubber-loaded"),this.scrubberBufferingElement=this.scrubberElement.find(".time-scrubber-buffering"),this.playPauseElement=this.elem.find(".play-button"),this.backwardElement=this.elem.find(".backward-button"),this.forwardElement=this.elem.find(".forward-button"),this.speedElement=this.elem.find(".speed-toggle"),this.chaptermarkButtonElement=this.elem.find(".chaptermarks-button"),this.chaptermarkElement=this.elem.find(".chaptermarks"),this.moreInfoButtonElement=this.elem.find(".more-info-button"),this.moreInfoElement=this.elem.find(".more-info")},t.prototype.scrubberWidth=function(){return this.scrubberRailElement.width()},t.prototype.initScrubber=function(){var t;return t=this.scrubberElement.width()-this.timeElement.width(),this.scrubberRailElement.width(t),this.initLoadingAnimation(),window.onresize=function(t){return function(){return t.initScrubber()}}(this)},t.prototype.initLoadingAnimation=function(){var t,e,i,r,n,s,o;for(e=this.scrubberElement.find(".time-scrubber-buffering"),t=$("<div>").addClass("time-scrubber-buffering-bar"),n=$("<div>").addClass("time-scrubber-buffering-line"),s=e.width()/100*3,i=r=0,o=s;o>=0?o>=r:r>=o;i=o>=0?++r:--r)t.append(n.clone());return e.append(t)},t.prototype.togglePlayState=function(){return this.playPauseElement.toggleClass("fa-play"),this.playPauseElement.toggleClass("fa-pause")},t.prototype.switchTimeDisplay=function(){return this.options.timeMode="countup"===this.options.timeMode?"countdown":"countup",this.updateTime()},t.prototype.timeRailFactor=function(){var t;return t=this.player.duration,this.scrubberWidth()/t},t.prototype.secondsToHHMMSS=function(t){var e,i;return e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),t=t-3600*e-60*i,t=t.toFixed(0),e=this.padNumber(e),i=this.padNumber(i),t=this.padNumber(t),e+":"+i+":"+t},t.prototype.hhmmssToSeconds=function(t){var e,i,r,n,s;return r=t.split(":"),s=parseInt(r[2],10),i=parseInt(r[1],10),e=parseInt(r[0],10),n=s+60*i+60*e*60},t.prototype.padNumber=function(t){return 10>t?"0"+t:t},t.prototype.updateTime=function(){var t,e,i;return e="countup"===this.options.timeMode?(t="",this.player.currentTime):(t="-",this.player.duration-this.player.currentTime),i=this.secondsToHHMMSS(e),this.timeElement.text(t+i),this.updateScrubber(),this.adjustPlaySpeed(i)},t.prototype.updateScrubber=function(){var t;return t=this.player.currentTime*this.timeRailFactor(),this.scrubberPlayedElement.width(t)},t.prototype.updateLoaded=function(){var t,e;return this.player.buffered.length?(t=this.player.buffered.start(0)*this.timeRailFactor(),e=this.player.buffered.end(0)*this.timeRailFactor(),this.scrubberLoadedElement.css("margin-left",t),this.scrubberLoadedElement.width(e)):void 0},t.prototype.triggerLoading=function(){return this.updateLoaded(),this.scrubberBufferingElement.show()},t.prototype.triggerPlaying=function(){return this.updateLoaded(),this.scrubberBufferingElement.hide()},t.prototype.triggerLoaded=function(){return this.updateLoaded(),this.scrubberBufferingElement.hide()},t.prototype.triggerError=function(){return this.scrubberBufferingElement.hide()},t.prototype.jumpToPosition=function(t){var e,i;return this.player.duration&&(i=this.player.duration/this.scrubberWidth(),e=i*t,e!==this.player.currentTime)?this.player.currentTime=e:void 0},t.prototype.handleMouseMove=function(t){var e;return e=t.pageX-$(t.target).offset().left,this.jumpToPosition(e)},t.prototype.tempPlayBackSpeed=null,t.prototype.adjustPlaySpeed=function(t){var e,i,r;if(e=this.player.currentTime,i=production_data.statistics.music_speech,r=$.grep(i,function(e){return-1!==e.start.indexOf(t)}),r.length)if("music"===r[0].label){if(1!==this.options.currentPlaybackRate)return this.tempPlayBackSpeed=this.options.currentPlaybackRate,this.setPlaySpeed(1)}else if(this.tempPlayBackSpeed)return this.setPlaySpeed(this.tempPlayBackSpeed),this.tempPlayBackSpeed=null},t.prototype.changePlaySpeed=function(){var t;return t=this.options.playbackRates.indexOf(this.options.currentPlaybackRate)+1,t>=this.options.playbackRates.length&&(t=0),this.setPlaySpeed(this.options.playbackRates[t])},t.prototype.setPlaySpeed=function(t){return this.player.playbackRate=this.options.currentPlaybackRate=t,this.speedElement.text(this.options.currentPlaybackRate+"x")},t.prototype.jumpBackward=function(t){return t=t||this.options.backwardSeconds,this.player.currentTime=this.player.currentTime-t},t.prototype.jumpForward=function(t){return t=t||this.options.forwardSeconds,this.player.currentTime=this.player.currentTime+t},t.prototype.bindButtons=function(){return this.playPauseElement.click(function(t){return function(){return t.chromecast?t.chromecast.paused()?t.chromecast.play():t.chromecast.pause():t.player.paused?t.player.play():t.player.pause(),t.togglePlayState(t)}}(this)),this.backwardElement.click(function(t){return function(){return t.jumpBackward()}}(this)),this.forwardElement.click(function(t){return function(){return t.jumpForward()}}(this)),this.speedElement.click(function(t){return function(){return t.changePlaySpeed()}}(this)),this.timeElement.click(function(t){return function(){return t.switchTimeDisplay()}}(this)),$(".rail").on("mousedown",function(t){return function(e){return t.handleMouseMove(e),$(t).on("mousemove",function(e){return t.handleMouseMove(e)}),$(t).on("mouseup",function(){return $(t).off("mousemove"),$(t).off("mouseup")})}}(this))},t.prototype.bindPlayerEvents=function(){return $(this.player).on("timeupdate",this.updateTime),$(this.player).on("play",this.triggerPlaying),$(this.player).on("playing",this.triggerPlaying),$(this.player).on("seeking",this.triggerLoading),$(this.player).on("seeked",this.triggerLoaded),$(this.player).on("waiting",this.triggerLoading),$(this.player).on("loadeddata",this.triggerLoaded),$(this.player).on("canplay",this.triggerLoaded),$(this.player).on("error",this.triggerError)},t.prototype.chapterClickCallback=function(t){var e;return e=t.data.start,this.player.currentTime=this.hhmmssToSeconds(e)},t.prototype.initChaptermarks=function(){var t;return t=$("<ul>"),this.data.chaptermarks.forEach(function(e){return function(i){var r;return r=new PodiChaptermark(i,e.chapterClickCallback).render(),t.append(r)}}(this)),this.chaptermarkElement.append(t),this.options.showChaptermarks?this.chaptermarkElement.show():this.chaptermarkElement.hide(),this.chaptermarkButtonElement.on("click",function(t){return function(){return t.chaptermarkElement.slideToggle(400,t.sendHeightChange)}}(this))},t.prototype.initMoreInfo=function(){return this.options.showInfo?this.moreInfoElement.show():this.moreInfoElement.hide(),this.moreInfoButtonElement.on("click",function(t){return function(){return t.moreInfoElement.slideToggle(400,t.sendHeightChange)}}(this))},t.prototype.sendHeightChange=function(){var t;return t=this.elem.height()+2*parseInt(this.elem.css("padding-top"),10),window.parent.postMessage("resize:"+t,"*")},t}()},{}]},{},[1]);